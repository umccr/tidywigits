% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Workflow.R
\name{Workflow}
\alias{Workflow}
\title{Workflow Object}
\description{
A Workflow is composed of multiple Tools.
}
\examples{
\dontrun{
path <- here::here("nogit/oa_v2")
tools <- list(align = Alignments, sigs = Sigs)
wf1 <- Workflow$new(name = "foo", path = path, tools = tools)
wf1$list_files()
wf1$nemofy(
    odir = "nogit/test_data",
    format = "parquet",
    id = "run1"
)

dbconn <- DBI::dbConnect(
  drv = RPostgres::Postgres(),
  dbname = "nemo",
  user = "orcabus"
)
wf1$nemofy(
    format = "db",
    id = "runABC",
    dbconn = dbconn
)

}
}
\section{Public fields}{
\if{html}{\out{<div class="r6-fields">}}
\describe{
\item{\code{name}}{(\code{character(1)})\cr
Name of workflow.}

\item{\code{path}}{(\code{character(n)})\cr
Path(s) to workflow results.}

\item{\code{tools}}{(\code{list(n)})\cr
List of Tools that compose a Workflow.}
}
\if{html}{\out{</div>}}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-Workflow-new}{\code{Workflow$new()}}
\item \href{#method-Workflow-print}{\code{Workflow$print()}}
\item \href{#method-Workflow-filter_files}{\code{Workflow$filter_files()}}
\item \href{#method-Workflow-list_files}{\code{Workflow$list_files()}}
\item \href{#method-Workflow-tidy}{\code{Workflow$tidy()}}
\item \href{#method-Workflow-write}{\code{Workflow$write()}}
\item \href{#method-Workflow-nemofy}{\code{Workflow$nemofy()}}
\item \href{#method-Workflow-get_raw_schemas_all}{\code{Workflow$get_raw_schemas_all()}}
\item \href{#method-Workflow-get_tidy_schemas_all}{\code{Workflow$get_tidy_schemas_all()}}
\item \href{#method-Workflow-get_tbls}{\code{Workflow$get_tbls()}}
\item \href{#method-Workflow-clone}{\code{Workflow$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Workflow-new"></a>}}
\if{latex}{\out{\hypertarget{method-Workflow-new}{}}}
\subsection{Method \code{new()}}{
Create a new Workflow object.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Workflow$new(name = NULL, path = NULL, tools = NULL)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{name}}{(\code{character(1)})\cr
Name of workflow.}

\item{\code{path}}{(\code{character(n)})\cr
Path(s) to workflow results.}

\item{\code{tools}}{(\code{list(n)})\cr
List of Tools that compose a Workflow.}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Workflow-print"></a>}}
\if{latex}{\out{\hypertarget{method-Workflow-print}{}}}
\subsection{Method \code{print()}}{
Print details about the File.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Workflow$print(...)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{...}}{(ignored).}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Workflow-filter_files"></a>}}
\if{latex}{\out{\hypertarget{method-Workflow-filter_files}{}}}
\subsection{Method \code{filter_files()}}{
Filter files in given workflow directory.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Workflow$filter_files(include = NULL, exclude = NULL)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{include}}{(\code{character(n)})\cr
Files to include.}

\item{\code{exclude}}{(\code{character(n)})\cr
Files to exclude.}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Workflow-list_files"></a>}}
\if{latex}{\out{\hypertarget{method-Workflow-list_files}{}}}
\subsection{Method \code{list_files()}}{
List files in given workflow directory.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Workflow$list_files(type = "file")}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{type}}{(\code{character(1)})\cr
File types(s) to return (e.g. any, file, directory, symlink).
See \code{fs::dir_info}.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A tibble with all files found for each Tool.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Workflow-tidy"></a>}}
\if{latex}{\out{\hypertarget{method-Workflow-tidy}{}}}
\subsection{Method \code{tidy()}}{
Tidy Workflow files.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Workflow$tidy(tidy = TRUE, keep_raw = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{tidy}}{(\code{logical(1)})\cr
Should the raw parsed tibbles get tidied?}

\item{\code{keep_raw}}{(\code{logical(1)})\cr
Should the raw parsed tibbles be kept in the final output?}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
self invisibly.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Workflow-write"></a>}}
\if{latex}{\out{\hypertarget{method-Workflow-write}{}}}
\subsection{Method \code{write()}}{
Write tidy tibbles.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Workflow$write(odir = ".", format = "tsv", id = NULL, dbconn = NULL)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{odir}}{(\code{character(1)})\cr
Directory path to output tidy files.}

\item{\code{format}}{(\code{character(1)})\cr
Format of output files.}

\item{\code{id}}{(\code{character(1)})\cr
ID to use for the dataset (e.g. \code{wfrid.123}, \code{prid.456}).}

\item{\code{dbconn}}{(\code{DBIConnection})\cr
Database connection object (see \code{DBI::dbConnect}).}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A tibble with all tibbles written.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Workflow-nemofy"></a>}}
\if{latex}{\out{\hypertarget{method-Workflow-nemofy}{}}}
\subsection{Method \code{nemofy()}}{
Parse, filter, tidy and write files.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Workflow$nemofy(
  odir = ".",
  format = "tsv",
  id = NULL,
  dbconn = NULL,
  include = NULL,
  exclude = NULL
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{odir}}{(\code{character(1)})\cr
Directory path to output tidy files.}

\item{\code{format}}{(\code{character(1)})\cr
Format of output files.}

\item{\code{id}}{(\code{character(1)})\cr
ID to use for the dataset (e.g. \code{wfrid.123}, \code{prid.456}).}

\item{\code{dbconn}}{(\code{DBIConnection})\cr
Database connection object (see \code{DBI::dbConnect}).}

\item{\code{include}}{(\code{character(n)})\cr
Files to include.}

\item{\code{exclude}}{(\code{character(n)})\cr
Files to exclude.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A tibble with the tidy data and their output location prefix.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Workflow-get_raw_schemas_all"></a>}}
\if{latex}{\out{\hypertarget{method-Workflow-get_raw_schemas_all}{}}}
\subsection{Method \code{get_raw_schemas_all()}}{
Get raw schemas for all Tools.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Workflow$get_raw_schemas_all()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
Tibble with names of tool and file, schema and its version.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Workflow-get_tidy_schemas_all"></a>}}
\if{latex}{\out{\hypertarget{method-Workflow-get_tidy_schemas_all}{}}}
\subsection{Method \code{get_tidy_schemas_all()}}{
Get tidy schemas for all Tools.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Workflow$get_tidy_schemas_all()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
Tibble with names of tool and tbl, schema and its version.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Workflow-get_tbls"></a>}}
\if{latex}{\out{\hypertarget{method-Workflow-get_tbls}{}}}
\subsection{Method \code{get_tbls()}}{
Get tidy tbls for all Tools.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Workflow$get_tbls()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
Tibble with tidy tbls of all Tools.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Workflow-clone"></a>}}
\if{latex}{\out{\hypertarget{method-Workflow-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Workflow$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
